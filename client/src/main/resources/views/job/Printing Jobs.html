<!DOCTYPE html>
<html lang="en">
<head>
    <title>Printing Jobs</title>
</head>
<body>
    <h1>Printing Jobs</h1>
    <div id="job-list"></div>

    <script>
        const websocket = new WebSocket("ws://localhost:8080/jobs/status"); // Adjust your port
        const jobList = document.getElementById("job-list");

        websocket.onmessage = (event) => {
            const jobUpdates = JSON.parse(event.data);
            updateJobList(jobUpdates);
        }

        function updateJobList(jobs) {
            const jobList = document.getElementById("job-list");
            jobList.innerHTML = ''; // Clear existing

            jobs.forEach(job => {
                const listItem = document.createElement("li");
                listItem.textContent = `Job ${job.id}: ${job.status} - Remaining Time: ${job.remainingTime}`;
                jobList.appendChild(listItem);
            });
        }
    </script>
</body>
</html>